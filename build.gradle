apply plugin: 'groovy'
apply plugin: 'maven'
apply plugin: 'maven-publish'
apply plugin: 'idea'
apply plugin: 'java-gradle-plugin'

// stay compatible with the crowd
targetCompatibility = 1.6

repositories {
    mavenCentral()
}

dependencies {
    compile localGroovy()

    testCompile 'junit:junit:4.11'
}

group = 'no.nils'
version = '0.7'

task sourcesJar(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

artifacts {
    archives sourcesJar
}

publishing {
    publications {
        mavenStuff(MavenPublication) {

            from components.java

            artifact sourcesJar {
                classifier 'sources'
            }
        }
    }
}

task wrapper(type:Wrapper){
    gradleVersion = '2.1'
}
